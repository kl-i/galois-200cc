\documentclass[main.tex]{subfiles}

\begin{document}
\section{Separable Extensions}

\begin{dfn} [\link{dfn:char_field}
  {Characteristic of a Field}] 
  
  Let $K$ be a field. 
  $\Z$ is generated by $1$ and ring morphisms must preserve $1$, 
  so there is a unique ring morphism $\Z \to K$.
  Its image is an ID since $K$ is an ID.
  So by $\Z$ PID, its kernel is generated by either zero or a (positive) prime. 
  This is defined as the \emph{characteristic of $K$},
  denoted $\Char{K}$.
\end{dfn}

\begin{rmk} [\link{rmk:freshmen}{Freshmen's Dream}]
  If $\Char{K} = 0$, then $K$ is naturally a $\Q$-extension.
  On the other hand, if $\Char{K} = p > 0$, 
  then $K$ is naturally a $\Z/(p)$-extension. 

  In the latter case, by the binomial theorem, 
  we have for all $a, b \in K$, $(a + b)^p = a^p + b^p$. 
  This innocent-looking result is known as \emph{Freshmen's Dream},
  and turns out to be very useful. 
\end{rmk}

\begin{dfn} [\link{dfn:sep_poly}
  {Formal Derivative, Separable Polynomial}]
  
  Let $K$ be a field and $f = \sum_{0 \leq n} f_n X^n \in K[X]$. 
  Then the \emph{formal derivative of $f$} is defined to be 
  $f^\prime = \sum_{0 < n} n f_n X^{n-1}$. 

  $f$ is said to be \emph{separable} when 
  for all $K$-extensions in which $f$ splits, $f$ has no repeated roots. 
  If otherwise, $f$ is called \emph{inseparable}. 
\end{dfn}

% \begin{rmk}
%   Let $(L,\io_L)$ be a $K$-extension and $f, g \in K[X]$ such that $(f,g) = 1$.
%   Then we still have $(\io_L f, \io_L g) = 1$. 
% \end{rmk}

\begin{thm} [\link{thm:char_insep_irr_poly}
  {Characterisation of Inseparable Irreducible Polynomials}]
  
  Let $K$ be a field and $f \in K[X]$ irreducible. 
  Then the following are equivalent : 
  \begin{enumerate}
    \item (Repeated Root) $f$ is inseparable. 
    \item (Intrinsic Definition) $(f,f^\prime) \neq 1$.
    \item (Another Intrinsic Definition) $f^\prime = 0$.
    \item (Characteristic Non-zero) 
    $\Char{K} = p \neq 0$ and 
    there exists an irreducible separable $g \in K[X]$ with $n > 0$ such that 
    $f(X) = g(X^{p^n})$. 
    \item (All Roots Repeated) There exists a $K$-extension in which 
    $f$ splits and all its roots are repeated. 
  \end{enumerate}
\end{thm}
\begin{proof}
  $(1 \implies 2)$ Let $(L,\io_L)$ be a $K$-extension in which $f$ splits and 
  has repeated roots. 
  Then by the product rule (which is straightforwardly proven by induction), 
  $(\io_L f, (\io_L f)^\prime) \neq 1$. 
  If $(f,f^\prime) = 1$, then there exists polynomials $g, h$ such that 
  $g f + h f^\prime = 1$, 
  which implies $\io_L(g) \io_L(f) + \io_L(h) \io_L(f^\prime) = 
  \io_L(g) \io_L(f) + \io_L(h) (\io_L f)^\prime = 1$,
  which contradicts with $(\io_L f, (\io_L f)^\prime) \neq 1$. 

  $(2 \implies 3)$ Since $f$ is irreducible and $K[X]$ is PID, 
  either $f$ divides $f^\prime$ or $(f,f^\prime) = 1$. 
  By assumption, we must have the first case. 
  But then if $f^\prime \neq 0$, its degree would be well-defined,
  and hence we would have $\deg f^\prime < \deg f \leq \deg f^\prime$,
  which is a contradiction. 
  So $f^\prime = 0$. 

  $(3 \implies 4)$ Let $f = \sum_{0 \leq k \leq \deg f} f_k X^k$. 
  Since $f^\prime = 0$, 
  we have its leading coefficient $(\deg f)(f_{\deg f}) = 0$,
  which implies $\deg f = 0 \in K$. 
  This shows that the kernel of the unique ring morphism $\Z \to K$ 
  is non-trivial, and hence $\Char{K} = p \neq 0$ for some prime $p \in \Z$. 
  Then for all non-zero coefficients $f_k$ of $f$,
  we have $k f_k = 0$, which implies $k = 0 \in K$,
  Thus $k \in \Z$ is in the kernel of $\Z \to K$,
  and hence $k = k_p p$ for some $k_p \in \Z_{> 0}$. 
  Letting $g_1(X) = \sum_{0 \leq k \leq \deg f} f_k X^{k_p}$,
  we obtain $f(X) = g_1(X^p)$. 
  Irreducibility of $f$ implies irreducibility of $g_1$.
  So if $g_1$ is separable, we are done.
  And if not, then by $(1 \implies 3)$ we have $g_1$ satisfying $(3)$. 
  Since $\deg g_1 < \deg f$, by induction
  there exists a irreducible separable polynomial $g \in K[X]$ with $n > 0$
  such that $g_1(X) = g(X^{p^n})$,
  in which case we are also done. 

  $(4 \implies 5)$ Let $f(X) = g(X^{p^n})$ where 
  $g \in K[X]$ is irreducible and separable, and $n > 0$. 
  Then there exists a $K$-extension $(L,\io_L)$ such that
  \linkto{thm:splits}{$L$ splits $g$}. 
  Let $A \subseteq L$ be the set of roots of $g$. 
  Then $\io_L f = \prod_{a \in A} (X^{p^n} - a)$. 
  Now, there exists a $L$-extension $(M,\io_M)$
  so that $M$ splits all the $X^{p^n} - a$. 
  For $a \in A$, let $t_a \in M$ such that $(t_a)^{p^n} - \io_M(a) = 0$. 
  Then by \linkto{rmk:freshmen}{Freshmen's dream}, we are done. \[
    (\io_M \circ \io_L) f = \prod_{a \in A} (X^{p^n} - \io_M(a))
    = \prod_{a \in A} (X - t_a)^{p^n}
  \]

  $(5 \implies 1)$ clear. 
\end{proof}

\begin{dfn} [\link{dfn:sep_insep}
  {Separable Closure, Separable Extension, Purely Inseparable}]
  
  Let $(L,\io_L)$ be an algebraic $K$-extension. 
  Then the \emph{separable closure of $K$ in $(L,\io_L)$} is defined to be
  the set of all $a \in L$ such that $\min(a,K)$ is separable. 
  We shall denote it with $S(\io_L)$,
  or simply $S(L)$ when the embedding of $K$ into $L$ is clear. 

  Clearly, $\io_L K \subseteq S(\io_L)$. 
  $(L,\io_L)$ is called \emph{separable} when $S(\io_L) = L$,
  and \emph{purely inseparable} when $S(\io_L) = \io_L K$. 
\end{dfn}

\begin{rmk}
  The \linkto{thm:char_insep_irr_poly}
  {characterisation of inseparable, irreducible polynomials} implies 
  in characteristic zero, purely inseparable if and only if trivial. 
  We thus limit the following to fields with positive characteristic.
\end{rmk}

\begin{thm} [\link{thm:char_purely_insep}
  {Characterisation of Finite Purely Inseparable Extensions
  in Positive Characteristic}] 
  
  Let $(L,\io_L)$ be a finite $K$-extension where $\Char{K} = p > 0$.
  Then the following are equivalent : 
  \begin{enumerate}
    \item $(L,\io_L)$ purely inseparable. 
    % \item $\Char{K} = p \neq 0$ and 
    % for all $a \in L$, there exists $n \geq 0$ and $k \in K$ such that 
    % $\min(a,K)(X) = X^{p^n} - k$.
    \item For all $a \in L$, 
    there exists $n \geq 0$ such that $a^{p^n} \in \io_L K$. 
    In fact, $\min(a,K)(X) = X^{p^n} - k$ for some $k \in K$.
    \item For all $K$-extensions $(N,\io_N)$, $|\emb{K}{L}{N}| \leq 1$. 
  \end{enumerate}
\end{thm}
\begin{proof}
  $(1 \implies 2)$ Let $a \in L$. 
  WLOG $a \notin \io_L K$, for the other case is clear. 
  Then by the \linkto{thm:char_insep_irr_poly}
  {characterisation of inseparable, irreducible polynomials}, 
  let $\min(a,K)(X) = g(X^{p^n})$ for some separable, irreducible $g$
  and $n > 0$. 
  It suffices to show that $g$ is linear. 
  But since $g$ is irreducible, and in fact monic, 
  $g = \min(a^{p^n},K)$. 
  Then $g$ separable and $L$ purely inseparable implies 
  $a^{p^n} \in S(L) = \io_L K$, 
  which implies $g$ is linear. 

  $(2\implies 3)$ Let $(N,\io_N)$ be a $K$-extension.
  If $\emb{K}{L}{N}$ is empty, we are done, 
  so let $\io_1,\io_2 \in \emb{K}{L}{N}$ and we will show they are equal. 
  Let $a \in L$. 
  By assumption, $a^{p^n} = \io_L(k)$ for some $n\geq 0$ and $k \in K$.  
  Then $\io_1(a)^{p^n} = \io_N(k) = \io_2(a)^{p^n}$,
  which implies $\io_1(a) = \io_2(a)$ by \linkto{rmk:freshmen}{Freshmen's dream}. 

  $(3 \implies 1)$ Let $a \in S(L)$. 
  By the \linkto{lem:embed_simp}
  {embedding theorem for finite simple extensions},
  it suffices to give a $K$-extension $(N,\io_N)$ such that 
  $(N,\io_N)$ splits $\min(a,K)$ and $|\emb{K}{K(a)}{N}| = 1$.
  To this end, let $A$ finite $\subs L$ with $L = K(A)$. 
  Let $(N,\io_N)$ be an $K$-extension that splits $\min(a,K)$ and 
  $\min(x,K)$ for all $x \in A$. 
  Then by the \linkto{lem:embed}{embedding theorem for finite extensions}
  applied twice,
  $1 \leq |\emb{K}{K(a)}{N}|$ \emph{and}
  any $\io \in \emb{K}{K(a)}{N}$ lifts to some $\io' \in \emb{K}{L}{N}$. 
  By assumption, $|\emb{K}{L}{N}| = 1$ so $|\emb{K}{K(a)}{N}| = 1$.

  % Then by the \linkto{lem:embed}{embedding theorem for finite extensions} and
  % \linkto{lem:partition}{subextensions partition embeddings}, we have 
  % \[
  %   1 \leq |\emb{K}{K(a)}{N}| 
  %   = \sum_{\io \in \emb{K}{K(a)}{N}} 1
  %   \leq \sum_{\io \in \emb{K}{K(a)}{N}} |\emb{K(a)}{L}{\io}|
  %   = |\emb{K}{L}{N}| \leq 1
  % \]
  % which implies $\min(a,K)$ is linear by 
  % the \linkto{lem:embed_simp}{embedding theorem for finite simple extensions} and 
  % separability of $\min(a,K)$. 

\end{proof}

\begin{thm} [\link{thm:sep_decomp}
  {Separable Decomposition of Finite Extensions}]
  
  Let $(L,\io_L)$ be a finite $K$-extension. 
  Then $S(L)$ is a field and thus naturally a separable $K$-extension. 
  Furthermore, $L$ as a $S(L)$-extension is purely inseparable. 
\end{thm}
\begin{proof}
  ($S(L)$ field) Let $a, b \in S(L)$ with $b \neq 0$. 
  To show $a + b, -a, a b, b^{-1} \in S(L)$,
  it suffices to show the stronger statement that 
  for all $x \in K(a,b)$, $\min(x,K)$ is separable.
  
  So let $x \in K(a,b)$ and 
  $(N,\io_n)$ be a $K$-extension that splits $\min(x,K)$. 
  By extending $N$, WLOG $N$ splits $\min(a,K)$ and $\min(b,K)$, too.
  Then by separability of $\min(a,K), \min(b,K)$, \[
    [K(x) : K]
    \linkto{thm:tower}{=} \frac{[K(a,b) : K]}{[K(a,b) : K(x)]}
    \linkto{thm:embed}{=} 
      \frac{\sum_{\io \in \emb{K}{K(x)}{N}} |\emb{K(x)}{K(a,b)}{\io}|}
      {[K(a,b) : K(x)]}
      \linkto{thm:embed}{\leq} |\emb{K}{K(x)}{N}|
  \]
  and \linkto{thm:embed}{hence} $[K(x) : K] = |\emb{K}{K(x)}{N}|$.
  By the \linkto{lem:embed_simp}
  {embedding theorem finite simple extensions}, 
  $\min(x,K)$ has no repeated roots in $N$. 

  ($L$ is a purely inseparable $S(L)$-extension)
  The case of $S(L) = L$ is clear, so WLOG $S(L) \ssubs L$.
  Then by the \linkto{thm:char_insep_irr_poly}
  {characterisation of inseparable, irreducible polynomials}, 
  let $0 < p = \Char{K} = \Char{S(L)}$.
  We may now use the second \linkto{thm:char_purely_insep}
  {characterisation of finite purely inseparable extensions}. 
  Let $a \in L$. WLOG $a \notin S(L)$.
  Then by the \linkto{thm:char_insep_irr_poly}
  {characterisation of inseparable, irreducible polynomials}, 
  there exists a separable, irreducible $g \in K[X]$ with $n > 0$ such that 
  $\min(a,K)(X) = g(X^{p^n})$. 
  Irreducibility of $g$ implies $g = \min(a^{p^n},K)$,
  which by separability of $g$, implies $a^{p^n} \in S(L)$ as desired.
\end{proof}

\begin{thm} [\link{thm:char_sep}
  {Characterisation of Finite Separable Extensions}]
  
  Let $(L,\io_L)$ be a finite $K$-extension. 
  Then the following are equivalent : 
  \begin{enumerate}
    \item $(L,\io_L)$ separable. 
    \item There exists finite $A \subseteq L$ such that 
    $L = K(A)$ and for all $a \in A$, $\min(a,K)$ separable. 
    \item For all $K$-extensions $(N,\io_N)$ where 
    all $\min(a,K)$ are split for $a \in L$, 
    $0 < |\emb{K}{L}{N}| = [L : K]$
  \end{enumerate}
\end{thm}
\begin{proof}
  $(1 \implies 2)$ \linkto{thm:char_fin}{Characterisation of finite extensions}. 
  
  $(2 \implies 3)$ \linkto{thm:embed}{Embedding theorem}. 

  $(3 \implies 1)$ $[S(L) : K] = |\emb{K}{S(L)}{N}| 
  = \sum_{\io \in \emb{K}{S(L)}{N}} |\emb{S(L)}{L}{\io}| 
  = |\emb{K}{L}{N}| = [L : K]$.
\end{proof}

\end{document}